{"remainingRequest":"D:\\develop\\ideaProjects\\itaimweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\develop\\ideaProjects\\itaimweb\\src\\views\\Login.vue?vue&type=style&index=0&id=26084dc2&scoped=true&lang=css&","dependencies":[{"path":"D:\\develop\\ideaProjects\\itaimweb\\src\\views\\Login.vue","mtime":1611559797110},{"path":"D:\\develop\\ideaProjects\\itaimweb\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\develop\\ideaProjects\\itaimweb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\develop\\ideaProjects\\itaimweb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\develop\\ideaProjects\\itaimweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\develop\\ideaProjects\\itaimweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubG9naW4tZm9ybS1sYXlvdXQgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgd2lkdGg6IDM2MHB4OwogICAgbWFyZ2luOiAxNDBweCBhdXRvOwogICAgLypib3JkZXItdG9wOiAxMHB4IHNvbGlkICM0MDllZmY7Ki8KfQoKLmxvZ2luLXRpdGxlIHsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLyog6IOM5pmvICovCi5sb2dpbi1jb250YWluZXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBiYWNrZ3JvdW5kOiB1cmwoIi4uL2Fzc2V0cy9sb2dpbi5qcGciKTsKICAgIGJhY2tncm91bmQtc2l6ZToxMDAlIDEwMCU7Cn0KLmxvZ2luLWNlbnRlci1sYXlvdXQgewogICAgYmFja2dyb3VuZDogIzQwOWVmZjsKICAgIHdpZHRoOiBhdXRvOwogICAgaGVpZ2h0OiBhdXRvOwogICAgbWF4LXdpZHRoOiAxMDAlOwogICAgbWF4LWhlaWdodDogMTAwJTsKICAgIG1hcmdpbi10b3A6IDIwMHB4Owp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"login-container\">\r\n        <el-card class=\"login-form-layout\">\r\n            <el-form autocomplete=\"on\" :model=\"loginForm\" ref=\"loginForm\" :rules=\"rules\" label-position=\"left\">\r\n                <h2 class=\"login-title color-main\">IT资产管理</h2>\r\n                <el-form-item prop=\"phone\">\r\n                    <el-input type=\"text\" v-model=\"loginForm.name\" autocomplete=\"on\" placeholder=\"请输入用户名\">\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"password\">\r\n                    <el-input :type=\"pwdType\" v-model=\"loginForm.password\" autocomplete=\"on\" placeholder=\"请输入密码\"\r\n                              @keyup.enter.native=\"handleLogin\">\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item style=\"margin-bottom: 60px\">\r\n                    <el-button style=\"width: 100%\" type=\"primary\"\r\n                               :loading=\"loading\" @click=\"handleLogin('loginForm')\">登录</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"login\",\r\n        data() {\r\n            return {\r\n                loginForm: {\r\n                    name:'',\r\n                    password:''\r\n                },\r\n                loading: false,\r\n                pwdType: \"password\",\r\n                rules: {\r\n                    name: [\r\n                        { required: true, message: '请输入账号', trigger: 'blur' },\r\n                        { min: 4, max: 15, message: '长度在 4 到 15 个字符', trigger: 'blur' }\r\n                    ],\r\n                    password: [\r\n                        { required: true, message: '请输入登陆密码', trigger: 'blur' },\r\n                        { min: 5, max: 15, message: '长度在 6 到 15 个字符', trigger: 'blur' }\r\n                    ],\r\n                }\r\n            };\r\n        },\r\n        methods: {\r\n            handleLogin() {\r\n                this.$refs.loginForm.validate(valid => {\r\n                    // console.log(valid) 验证通过为true，有一个不通过就是false\r\n                    if (valid) {\r\n                        this.loading = true;\r\n                        axios.post('http://localhost:8090/login',this.loginForm)\r\n                            .then(response => {\r\n                                this.loading = false;\r\n                                let code = response.data;\r\n                                if(code.success === true){\r\n                                    console.log(response.data.token)\r\n                                    /*存储到ls*/\r\n                                    // localStorage.setItem('eleToken',token);\r\n                                    this.$router.push('/ListAsset');\r\n                                }else {\r\n                                    this.$router.push({\r\n                                        callback: action =>{\r\n                                            window.location.reload()\r\n                                        }\r\n                                    });\r\n                                }\r\n                            })\r\n                            .catch(() => {\r\n                                this.loading = false;\r\n                            });\r\n                    } else {\r\n                        console.log(\"参数验证不合法！\");\r\n                        return false;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .login-form-layout {\r\n        position: absolute;\r\n        left: 0;\r\n        right: 0;\r\n        width: 360px;\r\n        margin: 140px auto;\r\n        /*border-top: 10px solid #409eff;*/\r\n    }\r\n\r\n    .login-title {\r\n        text-align: center;\r\n    }\r\n\r\n    /* 背景 */\r\n    .login-container {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: url(\"../assets/login.jpg\");\r\n        background-size:100% 100%;\r\n    }\r\n    .login-center-layout {\r\n        background: #409eff;\r\n        width: auto;\r\n        height: auto;\r\n        max-width: 100%;\r\n        max-height: 100%;\r\n        margin-top: 200px;\r\n    }\r\n</style>\r\n"]}]}