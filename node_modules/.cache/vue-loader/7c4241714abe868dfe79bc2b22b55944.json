{"remainingRequest":"D:\\develop\\ideaProjects\\itaimweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\develop\\ideaProjects\\itaimweb\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\develop\\ideaProjects\\itaimweb\\src\\views\\Login.vue","mtime":1611822750784},{"path":"D:\\develop\\ideaProjects\\itaimweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\develop\\ideaProjects\\itaimweb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\develop\\ideaProjects\\itaimweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\develop\\ideaProjects\\itaimweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJsb2dpbiIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGxvZ2luRm9ybTogewogICAgICAgICAgICAgICAgbmFtZTonJywKICAgICAgICAgICAgICAgIHBhc3N3b3JkOicnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICBwd2RUeXBlOiAicGFzc3dvcmQiLAogICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICAgbmFtZTogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXotKblj7cnLCB0cmlnZ2VyOiAnYmx1cicgfSwKICAgICAgICAgICAgICAgICAgICB7IG1pbjogNCwgbWF4OiAxNSwgbWVzc2FnZTogJ+mVv+W6puWcqCA0IOWIsCAxNSDkuKrlrZfnrKYnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeZu+mZhuWvhueggScsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbWluOiA1LCBtYXg6IDE1LCBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDMg5YiwIDE1IOS4quWtl+espicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaGFuZGxlTG9naW4oKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMubG9naW5Gb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHZhbGlkKSDpqozor4HpgJrov4fkuLp0cnVl77yM5pyJ5LiA5Liq5LiN6YCa6L+H5bCx5pivZmFsc2UKICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4MDkwL2xvZ2luJyx0aGlzLmxvZ2luRm9ybSkKICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29kZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb2RlLnN1Y2Nlc3MgPT09IHRydWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8q5a2Y5YKo5YiwbHMqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdlbGVUb2tlbicsY29kZS50b2tlbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2VsZVRva2VuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy4kc3RvcmUuY29tbWl0KCdlbGVUb2tlbicsY29kZS50b2tlbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL0xpc3RBc3NldCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGFjdGlvbiA9PnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLlj4LmlbDpqozor4HkuI3lkIjms5XvvIEiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KfTsK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"login-container\">\r\n        <el-card class=\"login-form-layout\">\r\n            <el-form autocomplete=\"on\" :model=\"loginForm\" ref=\"loginForm\" :rules=\"rules\" label-position=\"left\">\r\n                <h2 class=\"login-title color-main\">IT资产管理</h2>\r\n                <el-form-item prop=\"phone\">\r\n                    <el-input type=\"text\" v-model=\"loginForm.name\" autocomplete=\"on\" placeholder=\"请输入用户名\">\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"password\">\r\n                    <el-input :type=\"pwdType\" v-model=\"loginForm.password\" autocomplete=\"on\" placeholder=\"请输入密码\"\r\n                              @keyup.enter.native=\"handleLogin\">\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item style=\"margin-bottom: 60px\">\r\n                    <el-button style=\"width: 100%\" type=\"primary\"\r\n                               :loading=\"loading\" @click=\"handleLogin('loginForm')\">登录</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"login\",\r\n        data() {\r\n            return {\r\n                loginForm: {\r\n                    name:'',\r\n                    password:''\r\n                },\r\n                loading: false,\r\n                pwdType: \"password\",\r\n                rules: {\r\n                    name: [\r\n                        { required: true, message: '请输入账号', trigger: 'blur' },\r\n                        { min: 4, max: 15, message: '长度在 4 到 15 个字符', trigger: 'blur' }\r\n                    ],\r\n                    password: [\r\n                        { required: true, message: '请输入登陆密码', trigger: 'blur' },\r\n                        { min: 5, max: 15, message: '长度在 3 到 15 个字符', trigger: 'blur' }\r\n                    ],\r\n                }\r\n            };\r\n        },\r\n        methods: {\r\n            handleLogin() {\r\n                this.$refs.loginForm.validate(valid => {\r\n                    // console.log(valid) 验证通过为true，有一个不通过就是false\r\n                    if (valid) {\r\n                        this.loading = true;\r\n                        axios.post('http://localhost:8090/login',this.loginForm)\r\n                            .then(response => {\r\n                                this.loading = false;\r\n                                let code = response.data;\r\n                                if(code.success === true){\r\n                                    /*存储到ls*/\r\n                                    localStorage.setItem('eleToken',code.token);\r\n                                    console.log('eleToken');\r\n                                    // this.$store.commit('eleToken',code.token)\r\n                                    this.$router.push('/ListAsset');\r\n                                }else {\r\n                                    this.$router.push({\r\n                                        callback: action =>{\r\n                                            window.location.reload()\r\n                                        }\r\n                                    });\r\n                                }\r\n                            })\r\n                            .catch(() => {\r\n                                this.loading = false;\r\n                            });\r\n                    } else {\r\n                        console.log(\"参数验证不合法！\");\r\n                        return false;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .login-form-layout {\r\n        position: absolute;\r\n        left: 0;\r\n        right: 0;\r\n        width: 360px;\r\n        margin: 140px auto;\r\n        /*border-top: 10px solid #409eff;*/\r\n    }\r\n\r\n    .login-title {\r\n        text-align: center;\r\n    }\r\n\r\n    /* 背景 */\r\n    .login-container {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: url(\"../assets/login.jpg\");\r\n        background-size:100% 100%;\r\n    }\r\n    .login-center-layout {\r\n        background: #409eff;\r\n        width: auto;\r\n        height: auto;\r\n        max-width: 100%;\r\n        max-height: 100%;\r\n        margin-top: 200px;\r\n    }\r\n</style>\r\n"]}]}